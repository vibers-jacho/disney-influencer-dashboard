<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disney Korea Influencer Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header>
            <div class="header-title">
                <img src="disney_logo.png" alt="Disney" class="logo">
                <h1>인플루언서 데이터 대시보드</h1>
            </div>
            <div class="summary-cards">
                <div class="summary-card">
                    <div class="card-label">총 인플루언서</div>
                    <div class="card-value" id="totalInfluencers">-</div>
                </div>
                <div class="summary-card">
                    <div class="card-label">총 조회수</div>
                    <div class="card-value" id="totalViews">-</div>
                </div>
                <div class="summary-card">
                    <div class="card-label">총 팔로워</div>
                    <div class="card-value" id="totalFollowers">-</div>
                </div>
                <div class="summary-card">
                    <div class="card-label">평균 참여율</div>
                    <div class="card-value" id="avgEngagement">-</div>
                </div>
                <div class="summary-card">
                    <div class="card-label">평균 CPM</div>
                    <div class="card-value" id="avgCPM">-</div>
                </div>
            </div>
        </header>

        <!-- Controls Section -->
        <div class="controls">
            <div class="search-section">
                <input type="text" id="searchInput" placeholder="이름, 계정, 캡션으로 검색...">
                <button id="searchBtn">검색</button>
                <button id="clearBtn">초기화</button>
            </div>
            <div class="view-toggle">
                <button class="view-btn active" data-view="card">카드 보기</button>
                <button class="view-btn" data-view="table">테이블 보기</button>
            </div>
            <div class="filter-section">
                <label for="tierFilter">팔로워 Tier:</label>
                <select id="tierFilter">
                    <option value="">전체</option>
                    <option value="1.마이크로-10만명 미만">마이크로 (10만명 미만)</option>
                    <option value="2.메가-10만명 이상">메가 (10만명 이상)</option>
                </select>
            </div>
            <div class="sort-section">
                <label for="sortSelect">정렬:</label>
                <select id="sortSelect">
                    <option value="">선택하세요</option>
                    <option value="follower_count">팔로워 수</option>
                    <option value="views_count">조회수</option>
                    <option value="engagement_rate">참여율</option>
                    <option value="likes_count">좋아요 수</option>
                    <option value="estimated_cpm">예상 CPM</option>
                    <option value="author_name">이름순</option>
                </select>
                <button id="sortOrderBtn" title="정렬 순서">↓</button>
            </div>
        </div>

        <!-- Pagination Top -->
        <div class="pagination-info">
            <span id="showingInfo">표시 중: - / -</span>
            <div class="items-per-page">
                <label>페이지당:</label>
                <select id="itemsPerPage">
                    <option value="20">20</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                    <option value="all">전체</option>
                </select>
            </div>
        </div>

        <!-- Main Content Area -->
        <main>
            <!-- Card View -->
            <div id="cardView" class="view-container active">
                <div class="cards-grid" id="cardsContainer">
                    <!-- Cards will be dynamically inserted here -->
                </div>
            </div>

            <!-- Table View -->
            <div id="tableView" class="view-container">
                <div class="table-wrapper">
                    <table id="dataTable">
                        <thead>
                            <tr>
                                <th class="sortable" data-field="id">번호</th>
                                <th>썸네일</th>
                                <th class="sortable" data-field="author_name">작성자 이름</th>
                                <th class="sortable" data-field="account_id">아이디</th>
                                <th class="sortable" data-field="follower_count">팔로워 수</th>
                                <th class="sortable" data-field="views_count">조회수</th>
                                <th class="sortable" data-field="likes_count">좋아요</th>
                                <th class="sortable" data-field="engagement_rate">참여율</th>
                                <th class="sortable" data-field="estimated_cpm">CPM($)</th>
                                <th>영상 링크</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- Table rows will be dynamically inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </main>

        <!-- Pagination Bottom -->
        <div class="pagination" id="pagination">
            <!-- Pagination buttons will be dynamically inserted here -->
        </div>

        <!-- Loading Indicator -->
        <div id="loadingIndicator" class="loading-indicator">
            <div class="spinner"></div>
            <span>데이터 로딩 중...</span>
        </div>

        <!-- Detail Modal -->
        <div id="detailModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <div id="modalBody">
                    <!-- Modal content will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <!-- Video Modal -->
        <div id="videoModal" class="modal video-modal">
            <div class="modal-content video-modal-content">
                <span class="close video-close">&times;</span>
                <div id="videoModalBody" class="video-container">
                    <!-- Instagram embed will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Instagram Embed Script -->
    <script async src="https://www.instagram.com/embed.js"></script>
    <script src="script.js"></script>
</body>
</html>